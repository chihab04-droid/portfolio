<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion Commerce Interne - Entreprise</title>
    <!-- TailwindCSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome pour les icônes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js pour les graphiques -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Styles personnalisés pour les animations et effets */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .stock-low {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
        }
        
        .stock-medium {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        }
        
        .stock-high {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
        }
        
        .hidden {
            display: none !important;
        }
        
        /* Styles pour les badges de statut */
        .badge-disponible {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        
        .badge-rupture {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
        
        .badge-commande {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        /* Animation pour les cartes produits */
        .product-card {
            position: relative;
            overflow: hidden;
        }
        
        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .product-card:hover::before {
            left: 100%;
        }
        
        /* Styles pour le calendrier */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
        }
        
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .calendar-day:hover {
            background-color: #3b82f6;
            color: white;
        }
        
        .calendar-day.has-shift {
            background-color: #10b981;
            color: white;
            border-radius: 50%;
        }
        
        .calendar-day.today {
            background-color: #f59e0b;
            color: white;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation Bar -->
    <nav class="gradient-bg text-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo/Titre -->
                <div class="flex items-center">
                    <i class="fas fa-store text-2xl mr-3"></i>
                    <h1 class="text-xl font-bold">Commerce Interne</h1>
                </div>
                
                <!-- Menu Desktop -->
                <div class="flex space-x-8">
                    <button onclick="showPage('menu')" class="nav-link hover:text-blue-200 transition-colors duration-200 px-3 py-2 rounded-md">
                        <i class="fas fa-utensils mr-2"></i>Menu & Produits
                    </button>
                    <button onclick="showPage('stocks')" class="nav-link hover:text-blue-200 transition-colors duration-200 px-3 py-2 rounded-md">
                        <i class="fas fa-boxes mr-2"></i>Stocks
                    </button>
                    <button onclick="showPage('papier')" class="nav-link hover:text-blue-200 transition-colors duration-200 px-3 py-2 rounded-md">
                        <i class="fas fa-file-alt mr-2"></i>Gestion Papier
                    </button>
                    <button onclick="showPage('equipes')" class="nav-link hover:text-blue-200 transition-colors duration-200 px-3 py-2 rounded-md">
                        <i class="fas fa-users mr-2"></i>Organisation
                    </button>
                </div>
                
                <!-- Menu Mobile -->
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-white hover:text-blue-200">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
            
            <!-- Menu Mobile Dropdown -->
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <button onclick="showPage('menu')" class="block w-full text-left px-3 py-2 hover:bg-blue-700 rounded-md">
                    <i class="fas fa-utensils mr-2"></i>Menu & Produits
                </button>
                <button onclick="showPage('stocks')" class="block w-full text-left px-3 py-2 hover:bg-blue-700 rounded-md">
                    <i class="fas fa-boxes mr-2"></i>Stocks
                </button>
                <button onclick="showPage('papier')" class="block w-full text-left px-3 py-2 hover:bg-blue-700 rounded-md">
                    <i class="fas fa-file-alt mr-2"></i>Gestion Papier
                </button>
                <button onclick="showPage('equipes')" class="block w-full text-left px-3 py-2 hover:bg-blue-700 rounded-md">
                    <i class="fas fa-users mr-2"></i>Organisation
                </button>
            </div>
        </div>
    </nav>

    <!-- Contenu Principal -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Page Menu & Produits -->
        <div id="menu-page" class="page-content">
            <!-- Hero Section -->
            <div class="text-center mb-12">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-orange-400 to-pink-400 rounded-full mb-6">
                    <i class="fas fa-utensils text-3xl text-white"></i>
                </div>
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Menu & Produits Dématérialisés</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Découvrez notre carte interactive avec tous nos produits et services disponibles.
                </p>
            </div>

            <div class="flex justify-between items-center mb-8">
                <h3 class="text-2xl font-bold text-gray-900">
                    <i class="fas fa-utensils text-orange-500 mr-3"></i>Notre Carte
                </h3>
                <div class="flex space-x-4">
                    <select id="category-filter" onchange="filterProducts()" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                        <option value="">Toutes catégories</option>
                        <option value="plats">Plats</option>
                        <option value="boissons">Boissons</option>
                        <option value="desserts">Desserts</option>
                        <option value="snacks">Snacks</option>
                    </select>
                    <button onclick="showAddProductForm()" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-200">
                        <i class="fas fa-plus mr-2"></i>Nouveau Produit
                    </button>
                </div>
            </div>
            
            <!-- Formulaire d'ajout de produit -->
            <div id="add-product-form" class="hidden bg-white p-6 rounded-lg shadow-md mb-8">
                <h4 class="text-xl font-semibold mb-4">Ajouter un nouveau produit</h4>
                <form onsubmit="addProduct(event)">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nom du produit</label>
                            <input type="text" id="product-nom" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Prix (€)</label>
                            <input type="number" id="product-prix" step="0.01" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Catégorie</label>
                            <select id="product-categorie" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                                <option value="">Sélectionner...</option>
                                <option value="plats">Plats</option>
                                <option value="boissons">Boissons</option>
                                <option value="desserts">Desserts</option>
                                <option value="snacks">Snacks</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">URL Image</label>
                            <input type="url" id="product-image" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                        <textarea id="product-description" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"></textarea>
                    </div>
                    <div class="flex space-x-4">
                        <button type="submit" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md">
                            <i class="fas fa-save mr-2"></i>Enregistrer
                        </button>
                        <button type="button" onclick="hideAddProductForm()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md">
                            <i class="fas fa-times mr-2"></i>Annuler
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Grille des produits -->
            <div id="products-grid" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
                <!-- Les produits seront ajoutés ici dynamiquement -->
            </div>
        </div>

        <!-- Page Stocks -->
        <div id="stocks-page" class="page-content hidden">
            <!-- Hero Section -->
            <div class="text-center mb-12">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full mb-6">
                    <i class="fas fa-boxes text-3xl text-white"></i>
                </div>
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Gestion des Stocks</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Suivez et gérez vos stocks en temps réel avec notre interface interactive.
                </p>
            </div>

            <div class="flex justify-between items-center mb-8">
                <h3 class="text-2xl font-bold text-gray-900">
                    <i class="fas fa-boxes text-blue-500 mr-3"></i>Inventaire
                </h3>
                <div class="flex space-x-4">
                    <select id="stock-filter" onchange="filterStocks()" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="">Tous les statuts</option>
                        <option value="disponible">Disponible</option>
                        <option value="rupture">Rupture de stock</option>
                        <option value="commande">En commande</option>
                    </select>
                    <button onclick="showAddStockForm()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200">
                        <i class="fas fa-plus mr-2"></i>Nouvel Article
                    </button>
                </div>
            </div>
            
            <!-- Formulaire d'ajout de stock -->
            <div id="add-stock-form" class="hidden bg-white p-6 rounded-lg shadow-md mb-8">
                <h4 class="text-xl font-semibold mb-4">Ajouter un nouvel article</h4>
                <form onsubmit="addStock(event)">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nom de l'article</label>
                            <input type="text" id="stock-nom" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Quantité</label>
                            <input type="number" id="stock-quantite" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Seuil minimum</label>
                            <input type="number" id="stock-seuil" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Catégorie</label>
                            <select id="stock-categorie" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">Sélectionner...</option>
                                <option value="ingredients">Ingrédients</option>
                                <option value="boissons">Boissons</option>
                                <option value="emballages">Emballages</option>
                                <option value="equipements">Équipements</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Fournisseur</label>
                            <input type="text" id="stock-fournisseur" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    <div class="flex space-x-4">
                        <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md">
                            <i class="fas fa-save mr-2"></i>Enregistrer
                        </button>
                        <button type="button" onclick="hideAddStockForm()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md">
                            <i class="fas fa-times mr-2"></i>Annuler
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Tableau des stocks -->
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Article</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Catégorie</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Quantité</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Seuil</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Statut</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Fournisseur</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="stocks-table" class="bg-white divide-y divide-gray-200">
                            <!-- Les stocks seront ajoutés ici dynamiquement -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Page Gestion Papier -->
        <div id="papier-page" class="page-content hidden">
            <!-- Hero Section -->
            <div class="text-center mb-12">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-green-400 to-blue-400 rounded-full mb-6">
                    <i class="fas fa-file-alt text-3xl text-white"></i>
                </div>
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Gestion Papier Digitalisée</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Réduisez l'utilisation du papier avec nos formulaires et documents numériques.
                </p>
            </div>

            <div class="flex justify-between items-center mb-8">
                <h3 class="text-2xl font-bold text-gray-900">
                    <i class="fas fa-file-alt text-green-500 mr-3"></i>Documents Numériques
                </h3>
                <button onclick="showAddDocumentForm()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200">
                    <i class="fas fa-plus mr-2"></i>Nouveau Document
                </button>
            </div>
            
            <!-- Formulaire d'ajout de document -->
            <div id="add-document-form" class="hidden bg-white p-6 rounded-lg shadow-md mb-8">
                <h4 class="text-xl font-semibold mb-4">Créer un nouveau document</h4>
                <form onsubmit="addDocument(event)">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Titre du document</label>
                            <input type="text" id="document-titre" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Type</label>
                            <select id="document-type" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                                <option value="">Sélectionner...</option>
                                <option value="commande">Bon de commande</option>
                                <option value="livraison">Bon de livraison</option>
                                <option value="inventaire">Fiche d'inventaire</option>
                                <option value="rapport">Rapport</option>
                                <option value="procedure">Procédure</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                        <textarea id="document-description" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"></textarea>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Créé par</label>
                            <input type="text" id="document-auteur" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Priorité</label>
                            <select id="document-priorite" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                                <option value="normale">Normale</option>
                                <option value="importante">Importante</option>
                                <option value="urgente">Urgente</option>
                            </select>
                        </div>
                    </div>
                    <div class="flex space-x-4">
                        <button type="submit" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md">
                            <i class="fas fa-save mr-2"></i>Créer
                        </button>
                        <button type="button" onclick="hideAddDocumentForm()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md">
                            <i class="fas fa-times mr-2"></i>Annuler
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Liste des documents -->
            <div id="documents-list" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                <!-- Les documents seront ajoutés ici dynamiquement -->
            </div>
        </div>

        <!-- Page Organisation des Équipes -->
        <div id="equipes-page" class="page-content hidden">
            <!-- Hero Section -->
            <div class="text-center mb-12">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full mb-6">
                    <i class="fas fa-users text-3xl text-white"></i>
                </div>
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Organisation des Équipes</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Gérez vos équipes, plannings et assignations de rôles efficacement.
                </p>
            </div>

            <!-- Onglets -->
            <div class="flex space-x-1 mb-8 bg-gray-100 p-1 rounded-lg">
                <button onclick="showEquipeTab('membres')" id="tab-membres" class="flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors duration-200 bg-white text-purple-600 shadow-sm">
                    <i class="fas fa-users mr-2"></i>Membres
                </button>
                <button onclick="showEquipeTab('planning')" id="tab-planning" class="flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors duration-200 text-gray-500 hover:text-gray-700">
                    <i class="fas fa-calendar mr-2"></i>Planning
                </button>
                <button onclick="showEquipeTab('roles')" id="tab-roles" class="flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors duration-200 text-gray-500 hover:text-gray-700">
                    <i class="fas fa-user-tag mr-2"></i>Rôles
                </button>
            </div>

            <!-- Contenu Membres -->
            <div id="equipe-membres" class="equipe-tab-content">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-900">Membres de l'équipe</h3>
                    <button onclick="showAddMembreForm()" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200">
                        <i class="fas fa-plus mr-2"></i>Nouveau Membre
                    </button>
                </div>
                
                <!-- Formulaire d'ajout de membre -->
                <div id="add-membre-form" class="hidden bg-white p-6 rounded-lg shadow-md mb-6">
                    <h4 class="text-lg font-semibold mb-4">Ajouter un nouveau membre</h4>
                    <form onsubmit="addMembre(event)">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nom complet</label>
                                <input type="text" id="membre-nom" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Poste</label>
                                <input type="text" id="membre-poste" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" id="membre-email" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Téléphone</label>
                                <input type="tel" id="membre-telephone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Équipe</label>
                                <select id="membre-equipe" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                                    <option value="">Sélectionner...</option>
                                    <option value="cuisine">Cuisine</option>
                                    <option value="service">Service</option>
                                    <option value="management">Management</option>
                                    <option value="logistique">Logistique</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Statut</label>
                                <select id="membre-statut" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                                    <option value="actif">Actif</option>
                                    <option value="conge">En congé</option>
                                    <option value="formation">En formation</option>
                                </select>
                            </div>
                        </div>
                        <div class="flex space-x-4">
                            <button type="submit" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-md">
                                <i class="fas fa-save mr-2"></i>Ajouter
                            </button>
                            <button type="button" onclick="hideAddMembreForm()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md">
                                <i class="fas fa-times mr-2"></i>Annuler
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- Liste des membres -->
                <div id="membres-list" class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                    <!-- Les membres seront ajoutés ici dynamiquement -->
                </div>
            </div>

            <!-- Contenu Planning -->
            <div id="equipe-planning" class="equipe-tab-content hidden">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-900">Planning des équipes</h3>
                    <div class="flex space-x-2">
                        <button onclick="previousMonth()" class="p-2 hover:bg-gray-100 rounded">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <span id="current-month" class="px-4 py-2 font-medium"></span>
                        <button onclick="nextMonth()" class="p-2 hover:bg-gray-100 rounded">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Calendrier -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <!-- En-têtes des jours -->
                    <div class="calendar-grid mb-2">
                        <div class="text-center font-medium text-gray-600 py-2">Dim</div>
                        <div class="text-center font-medium text-gray-600 py-2">Lun</div>
                        <div class="text-center font-medium text-gray-600 py-2">Mar</div>
                        <div class="text-center font-medium text-gray-600 py-2">Mer</div>
                        <div class="text-center font-medium text-gray-600 py-2">Jeu</div>
                        <div class="text-center font-medium text-gray-600 py-2">Ven</div>
                        <div class="text-center font-medium text-gray-600 py-2">Sam</div>
                    </div>
                    
                    <!-- Grille du calendrier -->
                    <div id="calendar-grid" class="calendar-grid">
                        <!-- Les jours seront générés dynamiquement -->
                    </div>
                </div>
                
                <!-- Légende -->
                <div class="mt-4 flex flex-wrap gap-4 text-sm">
                    <div class="flex items-center">
                        <div class="w-4 h-4 bg-green-500 rounded-full mr-2"></div>
                        <span>Équipe complète</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-4 h-4 bg-yellow-500 rounded-full mr-2"></div>
                        <span>Aujourd'hui</span>
                    </div>
                </div>
            </div>

            <!-- Contenu Rôles -->
            <div id="equipe-roles" class="equipe-tab-content hidden">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-900">Gestion des rôles</h3>
                    <button onclick="showAddRoleForm()" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200">
                        <i class="fas fa-plus mr-2"></i>Nouveau Rôle
                    </button>
                </div>
                
                <!-- Formulaire d'ajout de rôle -->
                <div id="add-role-form" class="hidden bg-white p-6 rounded-lg shadow-md mb-6">
                    <h4 class="text-lg font-semibold mb-4">Créer un nouveau rôle</h4>
                    <form onsubmit="addRole(event)">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nom du rôle</label>
                                <input type="text" id="role-nom" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Département</label>
                                <select id="role-departement" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                                    <option value="">Sélectionner...</option>
                                    <option value="cuisine">Cuisine</option>
                                    <option value="service">Service</option>
                                    <option value="management">Management</option>
                                    <option value="logistique">Logistique</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                            <textarea id="role-description" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Responsabilités</label>
                            <textarea id="role-responsabilites" rows="3" placeholder="Listez les responsabilités principales..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"></textarea>
                        </div>
                        <div class="flex space-x-4">
                            <button type="submit" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-md">
                                <i class="fas fa-save mr-2"></i>Créer
                            </button>
                            <button type="button" onclick="hideAddRoleForm()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md">
                                <i class="fas fa-times mr-2"></i>Annuler
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- Liste des rôles -->
                <div id="roles-list" class="grid gap-4 md:grid-cols-2">
                    <!-- Les rôles seront ajoutés ici dynamiquement -->
                </div>
            </div>
        </div>
    </main>

    <script>
        // Variables globales pour la gestion des données
        let currentPage = 'menu';
        let currentEquipeTab = 'membres';
        let currentDate = new Date();
        
        // Données mock initiales
        const mockData = {
            products: [
                {
                    id: 1,
                    nom: "Sandwich Club",
                    prix: 8.50,
                    categorie: "plats",
                    description: "Sandwich triple étage avec poulet, bacon, salade et tomates",
                    image: "https://images.unsplash.com/photo-1553909489-cd47e0ef937f?w=300&h=200&fit=crop"
                },
                {
                    id: 2,
                    nom: "Salade César",
                    prix: 12.00,
                    categorie: "plats",
                    description: "Salade fraîche avec croûtons, parmesan et sauce César maison",
                    image: "https://images.unsplash.com/photo-1546793665-c74683f339c1?w=300&h=200&fit=crop"
                },
                {
                    id: 3,
                    nom: "Café Expresso",
                    prix: 2.50,
                    categorie: "boissons",
                    description: "Café italien authentique, torréfaction artisanale",
                    image: "https://images.unsplash.com/photo-1510707577719-ae7c14805e3a?w=300&h=200&fit=crop"
                },
                {
                    id: 4,
                    nom: "Tiramisu",
                    prix: 6.00,
                    categorie: "desserts",
                    description: "Dessert italien traditionnel au mascarpone et café",
                    image: "https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?w=300&h=200&fit=crop"
                }
            ],
            stocks: [
                {
                    id: 1,
                    nom: "Farine de blé",
                    categorie: "ingredients",
                    quantite: 25,
                    seuil: 10,
                    fournisseur: "Moulin Martin",
                    statut: "disponible"
                },
                {
                    id: 2,
                    nom: "Tomates fraîches",
                    categorie: "ingredients",
                    quantite: 5,
                    seuil: 15,
                    fournisseur: "Ferme Bio",
                    statut: "rupture"
                },
                {
                    id: 3,
                    nom: "Bouteilles d'eau",
                    categorie: "boissons",
                    quantite: 48,
                    seuil: 20,
                    fournisseur: "Source Pure",
                    statut: "disponible"
                },
                {
                    id: 4,
                    nom: "Emballages carton",
                    categorie: "emballages",
                    quantite: 12,
                    seuil: 25,
                    fournisseur: "EcoPack",
                    statut: "commande"
                }
            ],
            documents: [
                {
                    id: 1,
                    titre: "Bon de commande #001",
                    type: "commande",
                    description: "Commande hebdomadaire de légumes frais",
                    auteur: "Marie Dupont",
                    priorite: "normale",
                    date: "2024-01-15",
                    statut: "en_cours"
                },
                {
                    id: 2,
                    titre: "Inventaire mensuel",
                    type: "inventaire",
                    description: "Inventaire complet des stocks de janvier",
                    auteur: "Thomas Martin",
                    priorite: "importante",
                    date: "2024-01-10",
                    statut: "termine"
                }
            ],
            membres: [
                {
                    id: 1,
                    nom: "Marie Dupont",
                    poste: "Chef de cuisine",
                    email: "marie.dupont@entreprise.com",
                    telephone: "01 23 45 67 89",
                    equipe: "cuisine",
                    statut: "actif",
                    avatar: "https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"
                },
                {
                    id: 2,
                    nom: "Thomas Martin",
                    poste: "Serveur",
                    email: "thomas.martin@entreprise.com",
                    telephone: "01 23 45 67 90",
                    equipe: "service",
                    statut: "actif",
                    avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"
                },
                {
                    id: 3,
                    nom: "Sophie Leroy",
                    poste: "Manager",
                    email: "sophie.leroy@entreprise.com",
                    telephone: "01 23 45 67 91",
                    equipe: "management",
                    statut: "actif",
                    avatar: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face"
                }
            ],
            roles: [
                {
                    id: 1,
                    nom: "Chef de cuisine",
                    departement: "cuisine",
                    description: "Responsable de la préparation des plats et de l'équipe cuisine",
                    responsabilites: "Supervision de l'équipe, création des menus, gestion de la qualité"
                },
                {
                    id: 2,
                    nom: "Serveur",
                    departement: "service",
                    description: "Accueil et service des clients",
                    responsabilites: "Prise de commandes, service en salle, encaissement"
                }
            ],
            planning: {
                shifts: [
                    { date: "2024-01-15", membres: ["Marie Dupont", "Thomas Martin"] },
                    { date: "2024-01-16", membres: ["Sophie Leroy", "Thomas Martin"] },
                    { date: "2024-01-17", membres: ["Marie Dupont", "Sophie Leroy"] }
                ]
            }
        };

        // Initialisation de l'application
        document.addEventListener('DOMContentLoaded', function() {
            loadDataFromStorage();
            showPage('menu');
            generateCalendar();
        });

        // Gestion de la navigation
        function showPage(pageId) {
            // Masquer toutes les pages
            const pages = document.querySelectorAll('.page-content');
            pages.forEach(page => page.classList.add('hidden'));
            
            // Afficher la page sélectionnée
            const targetPage = document.getElementById(pageId + '-page');
            if (targetPage) {
                targetPage.classList.remove('hidden');
                targetPage.classList.add('fade-in');
            }
            
            // Mettre à jour la navigation active
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => link.classList.remove('bg-blue-700'));
            
            currentPage = pageId;
            
            // Charger le contenu de la page
            switch(pageId) {
                case 'menu':
                    loadProducts();
                    break;
                case 'stocks':
                    loadStocks();
                    break;
                case 'papier':
                    loadDocuments();
                    break;
                case 'equipes':
                    loadMembres();
                    loadRoles();
                    generateCalendar();
                    break;
            }
            
            // Fermer le menu mobile
            document.getElementById('mobile-menu').classList.add('hidden');
        }

        // Toggle menu mobile
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        }

        // Gestion du localStorage
        function saveDataToStorage() {
            localStorage.setItem('ecomData', JSON.stringify(mockData));
        }

        function loadDataFromStorage() {
            const savedData = localStorage.getItem('ecomData');
            if (savedData) {
                Object.assign(mockData, JSON.parse(savedData));
            }
        }

        // MENU & PRODUITS
        function loadProducts() {
            const container = document.getElementById('products-grid');
            container.innerHTML = '';
            
            const filteredProducts = filterProductsByCategory();
            
            filteredProducts.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card bg-white rounded-lg shadow-md overflow-hidden card-hover';
                card.innerHTML = `
                    <img src="${product.image}" alt="${product.nom}" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="text-lg font-semibold text-gray-900">${product.nom}</h4>
                            <button onclick="deleteProduct(${product.id})" class="text-red-500 hover:text-red-700">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                        <p class="text-gray-600 text-sm mb-3">${product.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-orange-500">${product.prix}€</span>
                            <span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full">
                                ${product.categorie}
                            </span>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function filterProductsByCategory() {
            const categoryFilter = document.getElementById('category-filter');
            const selectedCategory = categoryFilter ? categoryFilter.value : '';
            
            if (!selectedCategory) {
                return mockData.products;
            }
            
            return mockData.products.filter(product => product.categorie === selectedCategory);
        }

        function filterProducts() {
            loadProducts();
        }

        function showAddProductForm() {
            document.getElementById('add-product-form').classList.remove('hidden');
        }

        function hideAddProductForm() {
            document.getElementById('add-product-form').classList.add('hidden');
            document.getElementById('add-product-form').querySelector('form').reset();
        }

        function addProduct(event) {
            event.preventDefault();
            
            const nom = document.getElementById('product-nom').value;
            const prix = parseFloat(document.getElementById('product-prix').value);
            const categorie = document.getElementById('product-categorie').value;
            const image = document.getElementById('product-image').value || 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=300&h=200&fit=crop';
            const description = document.getElementById('product-description').value;
            
            const newProduct = {
                id: Date.now(),
                nom: nom,
                prix: prix,
                categorie: categorie,
                description: description,
                image: image
            };
            
            mockData.products.push(newProduct);
            saveDataToStorage();
            loadProducts();
            hideAddProductForm();
        }

        function deleteProduct(id) {
            if (confirm('Êtes-vous sûr de vouloir supprimer ce produit ?')) {
                mockData.products = mockData.products.filter(p => p.id !== id);
                saveDataToStorage();
                loadProducts();
            }
        }

        // STOCKS
        function loadStocks() {
            const container = document.getElementById('stocks-table');
            container.innerHTML = '';
            
            const filteredStocks = filterStocksByStatus();
            
            filteredStocks.forEach(stock => {
                const statutClass = getStockStatusClass(stock);
                const statutText = getStockStatusText(stock);
                
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50';
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm font-medium text-gray-900">${stock.nom}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full">
                            ${stock.categorie}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${stock.quantite}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${stock.seuil}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-medium text-white rounded-full ${statutClass}">
                            ${statutText}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${stock.fournisseur}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="updateStock(${stock.id})" class="text-blue-600 hover:text-blue-900 mr-3">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button onclick="deleteStock(${stock.id})" class="text-red-600 hover:text-red-900">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                container.appendChild(row);
            });
        }

        function getStockStatusClass(stock) {
            if (stock.statut === 'rupture') return 'badge-rupture';
            if (stock.statut === 'commande') return 'badge-commande';
            if (stock.quantite <= stock.seuil) return 'badge-commande';
            return 'badge-disponible';
        }

        function getStockStatusText(stock) {
            if (stock.statut === 'rupture') return 'Rupture';
            if (stock.statut === 'commande') return 'En commande';
            if (stock.quantite <= stock.seuil) return 'Stock faible';
            return 'Disponible';
        }

        function filterStocksByStatus() {
            const statusFilter = document.getElementById('stock-filter');
            const selectedStatus = statusFilter ? statusFilter.value : '';
            
            if (!selectedStatus) {
                return mockData.stocks;
            }
            
            return mockData.stocks.filter(stock => {
                if (selectedStatus === 'disponible') {
                    return stock.statut === 'disponible' && stock.quantite > stock.seuil;
                }
                return stock.statut === selectedStatus;
            });
        }

        function filterStocks() {
            loadStocks();
        }

        function showAddStockForm() {
            document.getElementById('add-stock-form').classList.remove('hidden');
        }

        function hideAddStockForm() {
            document.getElementById('add-stock-form').classList.add('hidden');
            document.getElementById('add-stock-form').querySelector('form').reset();
        }

        function addStock(event) {
            event.preventDefault();
            
            const nom = document.getElementById('stock-nom').value;
            const quantite = parseInt(document.getElementById('stock-quantite').value);
            const seuil = parseInt(document.getElementById('stock-seuil').value);
            const categorie = document.getElementById('stock-categorie').value;
            const fournisseur = document.getElementById('stock-fournisseur').value;
            
            const newStock = {
                id: Date.now(),
                nom: nom,
                categorie: categorie,
                quantite: quantite,
                seuil: seuil,
                fournisseur: fournisseur,
                statut: quantite > seuil ? 'disponible' : 'rupture'
            };
            
            mockData.stocks.push(newStock);
            saveDataToStorage();
            loadStocks();
            hideAddStockForm();
        }

        function updateStock(id) {
            const newQuantity = prompt('Nouvelle quantité :');
            if (newQuantity !== null && !isNaN(newQuantity)) {
                const stock = mockData.stocks.find(s => s.id === id);
                if (stock) {
                    stock.quantite = parseInt(newQuantity);
                    stock.statut = stock.quantite > stock.seuil ? 'disponible' : 'rupture';
                    saveDataToStorage();
                    loadStocks();
                }
            }
        }

        function deleteStock(id) {
            if (confirm('Êtes-vous sûr de vouloir supprimer cet article ?')) {
                mockData.stocks = mockData.stocks.filter(s => s.id !== id);
                saveDataToStorage();
                loadStocks();
            }
        }

        // GESTION PAPIER
        function loadDocuments() {
            const container = document.getElementById('documents-list');
            container.innerHTML = '';
            
            mockData.documents.forEach(document => {
                const prioriteColors = {
                    'normale': 'bg-green-100 text-green-800',
                    'importante': 'bg-yellow-100 text-yellow-800',
                    'urgente': 'bg-red-100 text-red-800'
                };
                
                const typeIcons = {
                    'commande': 'fas fa-shopping-cart',
                    'livraison': 'fas fa-truck',
                    'inventaire': 'fas fa-clipboard-list',
                    'rapport': 'fas fa-chart-bar',
                    'procedure': 'fas fa-cogs'
                };
                
                const card = document.createElement('div');
                card.className = 'bg-white rounded-lg shadow-md p-6 card-hover';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex items-center">
                            <i class="${typeIcons[document.type]} text-2xl text-green-500 mr-3"></i>
                            <div>
                                <h4 class="text-lg font-semibold text-gray-900">${document.titre}</h4>
                                <p class="text-sm text-gray-500">par ${document.auteur}</p>
                            </div>
                        </div>
                        <button onclick="deleteDocument(${document.id})" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <p class="text-gray-600 mb-4">${document.description}</p>
                    <div class="flex justify-between items-center">
                        <span class="px-2 py-1 text-xs font-medium rounded-full ${prioriteColors[document.priorite]}">
                            ${document.priorite.charAt(0).toUpperCase() + document.priorite.slice(1)}
                        </span>
                        <span class="text-sm text-gray-500">
                            ${new Date(document.date).toLocaleDateString('fr-FR')}
                        </span>
                    </div>
                    <div class="mt-4">
                        <button onclick="viewDocument(${document.id})" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm">
                            <i class="fas fa-eye mr-2"></i>Consulter
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function showAddDocumentForm() {
            document.getElementById('add-document-form').classList.remove('hidden');
        }

        function hideAddDocumentForm() {
            document.getElementById('add-document-form').classList.add('hidden');
            document.getElementById('add-document-form').querySelector('form').reset();
        }

        function addDocument(event) {
            event.preventDefault();
            
            const titre = document.getElementById('document-titre').value;
            const type = document.getElementById('document-type').value;
            const description = document.getElementById('document-description').value;
            const auteur = document.getElementById('document-auteur').value;
            const priorite = document.getElementById('document-priorite').value;
            
            const newDocument = {
                id: Date.now(),
                titre: titre,
                type: type,
                description: description,
                auteur: auteur,
                priorite: priorite,
                date: new Date().toISOString().split('T')[0],
                statut: 'en_cours'
            };
            
            mockData.documents.push(newDocument);
            saveDataToStorage();
            loadDocuments();
            hideAddDocumentForm();
        }

        function viewDocument(id) {
            const document = mockData.documents.find(d => d.id === id);
            if (document) {
                alert(`Document: ${document.titre}\nType: ${document.type}\nDescription: ${document.description}\nAuteur: ${document.auteur}`);
            }
        }

        function deleteDocument(id) {
            if (confirm('Êtes-vous sûr de vouloir supprimer ce document ?')) {
                mockData.documents = mockData.documents.filter(d => d.id !== id);
                saveDataToStorage();
                loadDocuments();
            }
        }

        // ORGANISATION DES ÉQUIPES
        function showEquipeTab(tabId) {
            // Masquer tous les contenus d'onglets
            const tabContents = document.querySelectorAll('.equipe-tab-content');
            tabContents.forEach(content => content.classList.add('hidden'));
            
            // Afficher le contenu sélectionné
            const targetContent = document.getElementById('equipe-' + tabId);
            if (targetContent) {
                targetContent.classList.remove('hidden');
            }
            
            // Mettre à jour les onglets actifs
            const tabs = document.querySelectorAll('[id^="tab-"]');
            tabs.forEach(tab => {
                tab.classList.remove('bg-white', 'text-purple-600', 'shadow-sm');
                tab.classList.add('text-gray-500', 'hover:text-gray-700');
            });
            
            const activeTab = document.getElementById('tab-' + tabId);
            if (activeTab) {
                activeTab.classList.remove('text-gray-500', 'hover:text-gray-700');
                activeTab.classList.add('bg-white', 'text-purple-600', 'shadow-sm');
            }
            
            currentEquipeTab = tabId;
            
            // Charger le contenu spécifique
            if (tabId === 'planning') {
                generateCalendar();
            }
        }

        function loadMembres() {
            const container = document.getElementById('membres-list');
            container.innerHTML = '';
            
            const equipeColors = {
                'cuisine': 'bg-orange-100 text-orange-800',
                'service': 'bg-blue-100 text-blue-800',
                'management': 'bg-purple-100 text-purple-800',
                'logistique': 'bg-green-100 text-green-800'
            };
            
            const statutColors = {
                'actif': 'bg-green-100 text-green-800',
                'conge': 'bg-yellow-100 text-yellow-800',
                'formation': 'bg-blue-100 text-blue-800'
            };
            
            mockData.membres.forEach(membre => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-lg shadow-md p-6 card-hover';
                card.innerHTML = `
                    <div class="flex items-center mb-4">
                        <img src="${membre.avatar}" alt="${membre.nom}" class="w-12 h-12 rounded-full mr-4 object-cover">
                        <div class="flex-1">
                            <h4 class="text-lg font-semibold text-gray-900">${membre.nom}</h4>
                            <p class="text-sm text-gray-600">${membre.poste}</p>
                        </div>
                        <button onclick="deleteMembre(${membre.id})" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <div class="space-y-2 mb-4">
                        <div class="flex items-center text-sm text-gray-600">
                            <i class="fas fa-envelope mr-2"></i>
                            ${membre.email}
                        </div>
                        <div class="flex items-center text-sm text-gray-600">
                            <i class="fas fa-phone mr-2"></i>
                            ${membre.telephone}
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="px-2 py-1 text-xs font-medium rounded-full ${equipeColors[membre.equipe]}">
                            ${membre.equipe.charAt(0).toUpperCase() + membre.equipe.slice(1)}
                        </span>
                        <span class="px-2 py-1 text-xs font-medium rounded-full ${statutColors[membre.statut]}">
                            ${membre.statut.charAt(0).toUpperCase() + membre.statut.slice(1)}
                        </span>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function showAddMembreForm() {
            document.getElementById('add-membre-form').classList.remove('hidden');
        }

        function hideAddMembreForm() {
            document.getElementById('add-membre-form').classList.add('hidden');
            document.getElementById('add-membre-form').querySelector('form').reset();
        }

        function addMembre(event) {
            event.preventDefault();
            
            const nom = document.getElementById('membre-nom').value;
            const poste = document.getElementById('membre-poste').value;
            const email = document.getElementById('membre-email').value;
            const telephone = document.getElementById('membre-telephone').value;
            const equipe = document.getElementById('membre-equipe').value;
            const statut = document.getElementById('membre-statut').value;
            
            const newMembre = {
                id: Date.now(),
                nom: nom,
                poste: poste,
                email: email,
                telephone: telephone,
                equipe: equipe,
                statut: statut,
                avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"
            };
            
            mockData.membres.push(newMembre);
            saveDataToStorage();
            loadMembres();
            hideAddMembreForm();
        }

        function deleteMembre(id) {
            if (confirm('Êtes-vous sûr de vouloir supprimer ce membre ?')) {
                mockData.membres = mockData.membres.filter(m => m.id !== id);
                saveDataToStorage();
                loadMembres();
            }
        }

        function loadRoles() {
            const container = document.getElementById('roles-list');
            container.innerHTML = '';
            
            const departementColors = {
                'cuisine': 'bg-orange-100 text-orange-800',
                'service': 'bg-blue-100 text-blue-800',
                'management': 'bg-purple-100 text-purple-800',
                'logistique': 'bg-green-100 text-green-800'
            };
            
            mockData.roles.forEach(role => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-lg shadow-md p-6 card-hover';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h4 class="text-lg font-semibold text-gray-900">${role.nom}</h4>
                            <span class="px-2 py-1 text-xs font-medium rounded-full ${departementColors[role.departement]}">
                                ${role.departement.charAt(0).toUpperCase() + role.departement.slice(1)}
                            </span>
                        </div>
                        <button onclick="deleteRole(${role.id})" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <p class="text-gray-600 mb-4">${role.description}</p>
                    <div class="border-t pt-4">
                        <h5 class="font-medium text-gray-900 mb-2">Responsabilités :</h5>
                        <p class="text-sm text-gray-600">${role.responsabilites}</p>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function showAddRoleForm() {
            document.getElementById('add-role-form').classList.remove('hidden');
        }

        function hideAddRoleForm() {
            document.getElementById('add-role-form').classList.add('hidden');
            document.getElementById('add-role-form').querySelector('form').reset();
        }

        function addRole(event) {
            event.preventDefault();
            
            const nom = document.getElementById('role-nom').value;
            const departement = document.getElementById('role-departement').value;
            const description = document.getElementById('role-description').value;
            const responsabilites = document.getElementById('role-responsabilites').value;
            
            const newRole = {
                id: Date.now(),
                nom: nom,
                departement: departement,
                description: description,
                responsabilites: responsabilites
            };
            
            mockData.roles.push(newRole);
            saveDataToStorage();
            loadRoles();
            hideAddRoleForm();
        }

        function deleteRole(id) {
            if (confirm('Êtes-vous sûr de vouloir supprimer ce rôle ?')) {
                mockData.roles = mockData.roles.filter(r => r.id !== id);
                saveDataToStorage();
                loadRoles();
            }
        }

        // CALENDRIER
        function generateCalendar() {
            const monthNames = [
                'Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin',
                'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'
            ];
            
            const currentMonthElement = document.getElementById('current-month');
            const calendarGrid = document.getElementById('calendar-grid');
            
            if (!currentMonthElement || !calendarGrid) return;
            
            currentMonthElement.textContent = `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
            
            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - firstDay.getDay());
            
            calendarGrid.innerHTML = '';
            
            for (let i = 0; i < 42; i++) {
                const cellDate = new Date(startDate);
                cellDate.setDate(startDate.getDate() + i);
                
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day bg-white border border-gray-200';
                dayElement.textContent = cellDate.getDate();
                
                // Vérifier s'il y a des shifts ce jour
                const dateString = cellDate.toISOString().split('T')[0];
                const hasShift = mockData.planning.shifts.some(shift => shift.date === dateString);
                
                if (hasShift) {
                    dayElement.classList.add('has-shift');
                }
                
                if (cellDate.getMonth() !== currentDate.getMonth()) {
                    dayElement.classList.add('text-gray-400');
                }
                
                if (cellDate.toDateString() === new Date().toDateString()) {
                    dayElement.classList.add('today');
                }
                
                calendarGrid.appendChild(dayElement);
            }
        }

        function previousMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            generateCalendar();
        }

        function nextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            generateCalendar();
        }
    </script>
</body>
</html>